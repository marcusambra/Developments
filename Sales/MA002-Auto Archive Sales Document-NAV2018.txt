OBJECT Table 311 Sales & Receivables Setup
{
  OBJECT-PROPERTIES
  {
    Date=15/04/20;
    Time=17:08:23;
    Modified=Yes;
    Version List=NAVW111.00.00.23019,NAVGB11.00.00.23019,MA002;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Sales & Receivables Setup;
               ENG=Sales & Receivables Setup];
    LookupPageID=Page459;
    DrillDownPageID=Page459;
  }
  FIELDS
  {
    { 1   ;   ;Primary Key         ;Code10        ;CaptionML=[ENU=Primary Key;
                                                              ENG=Primary Key] }
    { 2   ;   ;Discount Posting    ;Option        ;CaptionML=[ENU=Discount Posting;
                                                              ENG=Discount Posting];
                                                   OptionCaptionML=[ENU=No Discounts,Invoice Discounts,Line Discounts,All Discounts;
                                                                    ENG=No Discounts,Invoice Discounts,Line Discounts,All Discounts];
                                                   OptionString=No Discounts,Invoice Discounts,Line Discounts,All Discounts }
    { 4   ;   ;Credit Warnings     ;Option        ;CaptionML=[ENU=Credit Warnings;
                                                              ENG=Credit Warnings];
                                                   OptionCaptionML=[ENU=Both Warnings,Credit Limit,Overdue Balance,No Warning;
                                                                    ENG=Both Warnings,Credit Limit,Overdue Balance,No Warning];
                                                   OptionString=Both Warnings,Credit Limit,Overdue Balance,No Warning }
    { 5   ;   ;Stockout Warning    ;Boolean       ;InitValue=Yes;
                                                   CaptionML=[ENU=Stockout Warning;
                                                              ENG=Stockout Warning] }
    { 6   ;   ;Shipment on Invoice ;Boolean       ;AccessByPermission=TableData 110=R;
                                                   CaptionML=[ENU=Shipment on Invoice;
                                                              ENG=Shipment on Invoice] }
    { 7   ;   ;Invoice Rounding    ;Boolean       ;CaptionML=[ENU=Invoice Rounding;
                                                              ENG=Invoice Rounding] }
    { 8   ;   ;Ext. Doc. No. Mandatory;Boolean    ;CaptionML=[ENU=Ext. Doc. No. Mandatory;
                                                              ENG=Ext. Doc. No. Mandatory] }
    { 9   ;   ;Customer Nos.       ;Code20        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Customer Nos.;
                                                              ENG=Customer Nos.] }
    { 10  ;   ;Quote Nos.          ;Code20        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Quote Nos.;
                                                              ENG=Quote Nos.] }
    { 11  ;   ;Order Nos.          ;Code20        ;TableRelation="No. Series";
                                                   AccessByPermission=TableData 110=R;
                                                   CaptionML=[ENU=Order Nos.;
                                                              ENG=Order Nos.] }
    { 12  ;   ;Invoice Nos.        ;Code20        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Invoice Nos.;
                                                              ENG=Invoice Nos.] }
    { 13  ;   ;Posted Invoice Nos. ;Code20        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Posted Invoice Nos.;
                                                              ENG=Posted Invoice Nos.] }
    { 14  ;   ;Credit Memo Nos.    ;Code20        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Credit Memo Nos.;
                                                              ENG=Credit Memo Nos.] }
    { 15  ;   ;Posted Credit Memo Nos.;Code20     ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Posted Credit Memo Nos.;
                                                              ENG=Posted Credit Memo Nos.] }
    { 16  ;   ;Posted Shipment Nos.;Code20        ;TableRelation="No. Series";
                                                   AccessByPermission=TableData 110=R;
                                                   CaptionML=[ENU=Posted Shipment Nos.;
                                                              ENG=Posted Shipment Nos.] }
    { 17  ;   ;Reminder Nos.       ;Code20        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Reminder Nos.;
                                                              ENG=Reminder Nos.] }
    { 18  ;   ;Issued Reminder Nos.;Code20        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Issued Reminder Nos.;
                                                              ENG=Issued Reminder Nos.] }
    { 19  ;   ;Fin. Chrg. Memo Nos.;Code20        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Fin. Chrg. Memo Nos.;
                                                              ENG=Fin. Chrg. Memo Nos.] }
    { 20  ;   ;Issued Fin. Chrg. M. Nos.;Code20   ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Issued Fin. Chrg. M. Nos.;
                                                              ENG=Issued Fin. Chrg. M. Nos.] }
    { 21  ;   ;Posted Prepmt. Inv. Nos.;Code20    ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Posted Prepmt. Inv. Nos.;
                                                              ENG=Posted Prepmt. Inv. Nos.] }
    { 22  ;   ;Posted Prepmt. Cr. Memo Nos.;Code20;TableRelation="No. Series";
                                                   CaptionML=[ENU=Posted Prepmt. Cr. Memo Nos.;
                                                              ENG=Posted Prepmt. Cr. Memo Nos.] }
    { 23  ;   ;Blanket Order Nos.  ;Code20        ;TableRelation="No. Series";
                                                   AccessByPermission=TableData 110=R;
                                                   CaptionML=[ENU=Blanket Order Nos.;
                                                              ENG=Blanket Order Nos.] }
    { 24  ;   ;Calc. Inv. Discount ;Boolean       ;CaptionML=[ENU=Calc. Inv. Discount;
                                                              ENG=Calc. Inv. Discount] }
    { 25  ;   ;Appln. between Currencies;Option   ;AccessByPermission=TableData 4=R;
                                                   CaptionML=[ENU=Appln. between Currencies;
                                                              ENG=Appln. between Currencies];
                                                   OptionCaptionML=[ENU=None,EMU,All;
                                                                    ENG=None,EMU,All];
                                                   OptionString=None,EMU,All }
    { 26  ;   ;Copy Comments Blanket to Order;Boolean;
                                                   InitValue=Yes;
                                                   AccessByPermission=TableData 110=R;
                                                   CaptionML=[ENU=Copy Comments Blanket to Order;
                                                              ENG=Copy Comments Blanket to Order] }
    { 27  ;   ;Copy Comments Order to Invoice;Boolean;
                                                   InitValue=Yes;
                                                   AccessByPermission=TableData 110=R;
                                                   CaptionML=[ENU=Copy Comments Order to Invoice;
                                                              ENG=Copy Comments Order to Invoice] }
    { 28  ;   ;Copy Comments Order to Shpt.;Boolean;
                                                   InitValue=Yes;
                                                   AccessByPermission=TableData 110=R;
                                                   CaptionML=[ENU=Copy Comments Order to Shpt.;
                                                              ENG=Copy Comments Order to Shpt.] }
    { 29  ;   ;Allow VAT Difference;Boolean       ;CaptionML=[ENU=Allow VAT Difference;
                                                              ENG=Allow VAT Difference] }
    { 30  ;   ;Calc. Inv. Disc. per VAT ID;Boolean;CaptionML=[ENU=Calc. Inv. Disc. per VAT ID;
                                                              ENG=Calc. Inv. Disc. per VAT ID] }
    { 31  ;   ;Logo Position on Documents;Option  ;CaptionML=[ENU=Logo Position on Documents;
                                                              ENG=Logo Position on Documents];
                                                   OptionCaptionML=[ENU=No Logo,Left,Center,Right;
                                                                    ENG=No Logo,Left,Centre,Right];
                                                   OptionString=No Logo,Left,Center,Right }
    { 32  ;   ;Check Prepmt. when Posting;Boolean ;CaptionML=[ENU=Check Prepmt. when Posting;
                                                              ENG=Check Prepmt. when Posting] }
    { 35  ;   ;Default Posting Date;Option        ;CaptionML=[ENU=Default Posting Date;
                                                              ENG=Default Posting Date];
                                                   OptionCaptionML=[ENU=Work Date,No Date;
                                                                    ENG=Work Date,No Date];
                                                   OptionString=Work Date,No Date }
    { 36  ;   ;Default Quantity to Ship;Option    ;AccessByPermission=TableData 110=R;
                                                   CaptionML=[ENU=Default Quantity to Ship;
                                                              ENG=Default Quantity to Ship];
                                                   OptionCaptionML=[ENU=Remainder,Blank;
                                                                    ENG=Remainder,Blank];
                                                   OptionString=Remainder,Blank }
    { 37  ;   ;Archive Quotes and Orders;Boolean  ;CaptionML=[ENU=Archive Quotes and Orders;
                                                              ENG=Archive Quotes and Orders] }
    { 38  ;   ;Post with Job Queue ;Boolean       ;CaptionML=[ENU=Post with Job Queue;
                                                              ENG=Post with Job Queue] }
    { 39  ;   ;Job Queue Category Code;Code10     ;TableRelation="Job Queue Category";
                                                   CaptionML=[ENU=Job Queue Category Code;
                                                              ENG=Job Queue Category Code] }
    { 40  ;   ;Job Queue Priority for Post;Integer;InitValue=1000;
                                                   OnValidate=BEGIN
                                                                IF "Job Queue Priority for Post" < 0 THEN
                                                                  ERROR(Text001);
                                                              END;

                                                   CaptionML=[ENU=Job Queue Priority for Post;
                                                              ENG=Job Queue Priority for Post];
                                                   MinValue=0 }
    { 41  ;   ;Post & Print with Job Queue;Boolean;CaptionML=[ENU=Post & Print with Job Queue;
                                                              ENG=Post & Print with Job Queue] }
    { 42  ;   ;Job Q. Prio. for Post & Print;Integer;
                                                   InitValue=1000;
                                                   OnValidate=BEGIN
                                                                IF "Job Queue Priority for Post" < 0 THEN
                                                                  ERROR(Text001);
                                                              END;

                                                   CaptionML=[ENU=Job Q. Prio. for Post & Print;
                                                              ENG=Job Q. Prio. for Post & Print];
                                                   MinValue=0 }
    { 43  ;   ;Notify On Success   ;Boolean       ;CaptionML=[ENU=Notify On Success;
                                                              ENG=Notify On Success] }
    { 44  ;   ;VAT Bus. Posting Gr. (Price);Code20;TableRelation="VAT Business Posting Group";
                                                   CaptionML=[ENU=VAT Bus. Posting Gr. (Price);
                                                              ENG=VAT Bus. Posting Gr. (Price)] }
    { 45  ;   ;Direct Debit Mandate Nos.;Code20   ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Direct Debit Mandate Nos.;
                                                              ENG=Direct Debit Mandate Nos.] }
    { 46  ;   ;Allow Document Deletion Before;Date;CaptionML=[ENU=Allow Document Deletion Before;
                                                              ENG=Allow Document Deletion Before] }
    { 50  ;   ;Default Item Quantity;Boolean      ;CaptionML=[ENU=Default Item Quantity;
                                                              ENG=Default Item Quantity] }
    { 51  ;   ;Create Item from Description;Boolean;
                                                   CaptionML=[ENU=Create Item from Description;
                                                              ENG=Create Item from Description] }
    { 61  ;   ;Ignore Updated Addresses;Boolean   ;CaptionML=[ENU=Ignore Updated Addresses;
                                                              ENG=Ignore Updated Addresses] }
    { 5329;   ;Write-in Product Type;Option       ;CaptionML=[ENU=Write-in Product Type;
                                                              ENG=Write-in Product Type];
                                                   OptionCaptionML=[ENU=Item,Resource;
                                                                    ENG=Item,Resource];
                                                   OptionString=Item,Resource }
    { 5330;   ;Write-in Product No.;Code20        ;TableRelation=IF (Write-in Product Type=CONST(Item)) Item.No. WHERE (Type=CONST(Service))
                                                                 ELSE IF (Write-in Product Type=CONST(Resource)) Resource.No.;
                                                   CaptionML=[ENU=Write-in Product No.;
                                                              ENG=Write-in Product No.] }
    { 5800;   ;Posted Return Receipt Nos.;Code20  ;TableRelation="No. Series";
                                                   AccessByPermission=TableData 6660=R;
                                                   CaptionML=[ENU=Posted Return Receipt Nos.;
                                                              ENG=Posted Return Receipt Nos.] }
    { 5801;   ;Copy Cmts Ret.Ord. to Ret.Rcpt;Boolean;
                                                   InitValue=Yes;
                                                   AccessByPermission=TableData 6660=R;
                                                   CaptionML=[ENU=Copy Cmts Ret.Ord. to Ret.Rcpt;
                                                              ENG=Copy Cmts Ret.Ord. to Ret.Rcpt] }
    { 5802;   ;Copy Cmts Ret.Ord. to Cr. Memo;Boolean;
                                                   InitValue=Yes;
                                                   AccessByPermission=TableData 6660=R;
                                                   CaptionML=[ENU=Copy Cmts Ret.Ord. to Cr. Memo;
                                                              ENG=Copy Cmts Ret.Ord. to Cr. Memo] }
    { 6600;   ;Return Order Nos.   ;Code20        ;TableRelation="No. Series";
                                                   AccessByPermission=TableData 6660=R;
                                                   CaptionML=[ENU=Return Order Nos.;
                                                              ENG=Return Order Nos.] }
    { 6601;   ;Return Receipt on Credit Memo;Boolean;
                                                   AccessByPermission=TableData 6660=R;
                                                   CaptionML=[ENU=Return Receipt on Credit Memo;
                                                              ENG=Return Receipt on Credit Memo] }
    { 6602;   ;Exact Cost Reversing Mandatory;Boolean;
                                                   CaptionML=[ENU=Exact Cost Reversing Mandatory;
                                                              ENG=Exact Cost Reversing Mandatory] }
    { 7101;   ;Customer Group Dimension Code;Code20;
                                                   TableRelation=Dimension;
                                                   CaptionML=[ENU=Customer Group Dimension Code;
                                                              ENG=Customer Group Dimension Code] }
    { 7102;   ;Salesperson Dimension Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Salesperson Dimension Code;
                                                              ENG=Salesperson Dimension Code] }
    { 7103;   ;Freight G/L Acc. No.;Code20        ;TableRelation="G/L Account";
                                                   OnValidate=BEGIN
                                                                CheckGLAccPostingTypeBlockedAndGenProdPostingType("Freight G/L Acc. No.");
                                                              END;

                                                   CaptionML=[ENU=Freight G/L Acc. No.;
                                                              ENG=Freight G/L Acc. No.] }
    { 10500;  ;Posting Date Check on Posting;Boolean;
                                                   InitValue=Yes;
                                                   CaptionML=[ENU=Posting Date Check on Posting;
                                                              ENG=Posting Date Check on Posting] }
    { 10501;  ;Reverse Charge VAT Posting Gr.;Code20;
                                                   TableRelation="VAT Business Posting Group";
                                                   CaptionML=[ENU=Reverse Charge VAT Posting Gr.;
                                                              ENG=Reverse Charge VAT Posting Gr.] }
    { 10502;  ;Domestic Customers  ;Code20        ;TableRelation="VAT Business Posting Group";
                                                   CaptionML=[ENU=Domestic Customers;
                                                              ENG=Domestic Customers] }
    { 10503;  ;Invoice Wording     ;Text30        ;CaptionML=[ENU=Invoice Wording;
                                                              ENG=Invoice Wording] }
    { 50000;  ;Archive on Release  ;Boolean       ;DataClassification=CustomerContent;
                                                   CaptionML=ENU=Archive on Release }
  }
  KEYS
  {
    {    ;Primary Key                             ;Clustered=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      Text001@1000 : TextConst 'ENU=Job Queue Priority must be zero or positive.;ENG=Job Queue Priority must be zero or positive.';

    [External]
    PROCEDURE GetLegalStatement@11() : Text;
    BEGIN
      EXIT('');
    END;

    [External]
    PROCEDURE JobQueueActive@1() : Boolean;
    BEGIN
      GET;
      EXIT("Post with Job Queue" OR "Post & Print with Job Queue");
    END;

    LOCAL PROCEDURE CheckGLAccPostingTypeBlockedAndGenProdPostingType@2(AccNo@1000 : Code[20]);
    VAR
      GLAcc@1002 : Record 15;
    BEGIN
      IF AccNo <> '' THEN BEGIN
        GLAcc.GET(AccNo);
        GLAcc.CheckGLAcc;
        GLAcc.TESTFIELD("Gen. Prod. Posting Group");
      END;
    END;

    BEGIN
    {
      //MA002 15/04/2020 Marcus Ambra - Added new field Release on Archive
    }
    END.
  }
}

OBJECT Codeunit 414 Release Sales Document
{
  OBJECT-PROPERTIES
  {
    Date=15/04/20;
    Time=17:09:24;
    Modified=Yes;
    Version List=NAVW111.00.00.24232,MA002;
  }
  PROPERTIES
  {
    TableNo=36;
    OnRun=BEGIN
            SalesHeader.COPY(Rec);
            Code;
            Rec := SalesHeader;
          END;

  }
  CODE
  {
    VAR
      Text001@1001 : TextConst 'ENU=There is nothing to release for the document of type %1 with the number %2.;ENG=There is nothing to release for the document of type %1 with the number %2.';
      SalesSetup@1002 : Record 311;
      InvtSetup@1000 : Record 313;
      SalesHeader@1008 : Record 36;
      WhseSalesRelease@1004 : Codeunit 5771;
      Text002@1005 : TextConst 'ENU=This document can only be released when the approval process is complete.;ENG=This document can only be released when the approval process is complete.';
      Text003@1003 : TextConst 'ENU=The approval process must be cancelled or completed to reopen this document.;ENG=The approval process must be cancelled or completed to reopen this document.';
      Text005@1006 : TextConst 'ENU=There are unpaid prepayment invoices that are related to the document of type %1 with the number %2.;ENG=There are unpaid prepayment invoices that are related to the document of type %1 with the number %2.';
      UnpostedPrepaymentAmountsErr@1007 : TextConst '@@@="%1 - Document Type; %2 - Document No.";ENU=There are unposted prepayment amounts on the document of type %1 with the number %2.;ENG=There are unposted prepayment amounts on the document of type %1 with the number %2.';
      PreviewMode@1009 : Boolean;
      SkipCheckReleaseRestrictions@1010 : Boolean;
      UserSetup@1000000000 : Record 91;
      Text006@1000000001 : TextConst 'ENU=You are not allowed to Release the order';
      ArchiveOrder@1000000002 : Codeunit 5063;

    LOCAL PROCEDURE Code@10() LinesWereModified : Boolean;
    VAR
      SalesLine@1006 : Record 37;
      PrepaymentMgt@1003 : Codeunit 441;
      NotOnlyDropShipment@1002 : Boolean;
      PostingDate@1001 : Date;
      PrintPostedDocuments@1000 : Boolean;
    BEGIN
      WITH SalesHeader DO BEGIN
        IF Status = Status::Released THEN
          EXIT;

        OnBeforeReleaseSalesDoc(SalesHeader,PreviewMode);
        IF NOT (PreviewMode OR SkipCheckReleaseRestrictions) THEN
          CheckSalesReleaseRestrictions;

        IF "Document Type" = "Document Type"::Quote THEN
          IF CheckCustomerCreated(TRUE) THEN
            GET("Document Type"::Quote,"No.")
          ELSE
            EXIT;

        TESTFIELD("Sell-to Customer No.");

        SalesLine.SETRANGE("Document Type","Document Type");
        SalesLine.SETRANGE("Document No.","No.");
        SalesLine.SETFILTER(Type,'>0');
        SalesLine.SETFILTER(Quantity,'<>0');
        IF NOT SalesLine.FIND('-') THEN
          ERROR(Text001,"Document Type","No.");
        InvtSetup.GET;
        IF InvtSetup."Location Mandatory" THEN BEGIN
          SalesLine.SETRANGE(Type,SalesLine.Type::Item);
          IF SalesLine.FINDSET THEN
            REPEAT
              IF NOT SalesLine.IsServiceItem THEN
                SalesLine.TESTFIELD("Location Code");
            UNTIL SalesLine.NEXT = 0;
          SalesLine.SETFILTER(Type,'>0');
        END;
        SalesLine.SETRANGE("Drop Shipment",FALSE);
        NotOnlyDropShipment := SalesLine.FINDFIRST;
        SalesLine.RESET;

        SalesSetup.GET;
        IF SalesSetup."Calc. Inv. Discount" THEN BEGIN
          PostingDate := "Posting Date";
          PrintPostedDocuments := "Print Posted Documents";
          CODEUNIT.RUN(CODEUNIT::"Sales-Calc. Discount",SalesLine);
          LinesWereModified := TRUE;
          GET("Document Type","No.");
          "Print Posted Documents" := PrintPostedDocuments;
          IF PostingDate <> "Posting Date" THEN
            VALIDATE("Posting Date",PostingDate);
        END;

        IF PrepaymentMgt.TestSalesPrepayment(SalesHeader) AND ("Document Type" = "Document Type"::Order) THEN BEGIN
          Status := Status::"Pending Prepayment";
          MODIFY(TRUE);
          EXIT;
        END;
        Status := Status::Released;

      //Archive on Release MA002 -
        SalesSetup.GET;
        IF SalesSetup."Archive on Release" THEN
          ArchiveOrder.AutoArchiveSalesDocument(SalesHeader);
      //Archive on Release MA002 +

        LinesWereModified := LinesWereModified OR CalcAndUpdateVATOnLines(SalesHeader,SalesLine);

        ReleaseATOs(SalesHeader);
        OnAfterReleaseATOs(SalesHeader,SalesLine);

        MODIFY(TRUE);

        IF NotOnlyDropShipment THEN
          IF "Document Type" IN ["Document Type"::Order,"Document Type"::"Return Order"] THEN
            WhseSalesRelease.Release(SalesHeader);

        OnAfterReleaseSalesDoc(SalesHeader,PreviewMode,LinesWereModified);
      END;
    END;

    [External]
    PROCEDURE Reopen@1(VAR SalesHeader@1000 : Record 36);
    BEGIN
      OnBeforeReopenSalesDoc(SalesHeader);

      WITH SalesHeader DO BEGIN
        IF Status = Status::Open THEN
          EXIT;
        Status := Status::Open;

        IF "Document Type" <> "Document Type"::Order THEN
          ReopenATOs(SalesHeader);

        MODIFY(TRUE);
        IF "Document Type" IN ["Document Type"::Order,"Document Type"::"Return Order"] THEN
          WhseSalesRelease.Reopen(SalesHeader);
      END;

      OnAfterReopenSalesDoc(SalesHeader);
    END;

    [External]
    PROCEDURE PerformManualRelease@2(VAR SalesHeader@1002 : Record 36);
    VAR
      PrepaymentMgt@1001 : Codeunit 441;
    BEGIN
      IF PrepaymentMgt.TestSalesPrepayment(SalesHeader) THEN
        ERROR(UnpostedPrepaymentAmountsErr,SalesHeader."Document Type",SalesHeader."No.");

      PerformManualCheckAndRelease(SalesHeader);
    END;

    PROCEDURE PerformManualCheckAndRelease@13(VAR SalesHeader@1002 : Record 36);
    VAR
      PrepaymentMgt@1001 : Codeunit 441;
      ApprovalsMgmt@1000 : Codeunit 1535;
    BEGIN
      WITH SalesHeader DO
        IF ("Document Type" = "Document Type"::Order) AND PrepaymentMgt.TestSalesPayment(SalesHeader) THEN BEGIN
          IF Status <> Status::"Pending Prepayment" THEN BEGIN
            Status := Status::"Pending Prepayment";
            MODIFY;
            COMMIT;
          END;
          ERROR(STRSUBSTNO(Text005,"Document Type","No."));
        END;

      IF ApprovalsMgmt.IsSalesHeaderPendingApproval(SalesHeader) THEN
        ERROR(Text002);

      CODEUNIT.RUN(CODEUNIT::"Release Sales Document",SalesHeader);
    END;

    [External]
    PROCEDURE PerformManualReopen@3(VAR SalesHeader@1002 : Record 36);
    BEGIN
      IF SalesHeader.Status = SalesHeader.Status::"Pending Approval" THEN
        ERROR(Text003);

      Reopen(SalesHeader);
    END;

    LOCAL PROCEDURE ReleaseATOs@5(SalesHeader@1000 : Record 36);
    VAR
      SalesLine@1001 : Record 37;
      AsmHeader@1002 : Record 900;
    BEGIN
      SalesLine.SETRANGE("Document Type",SalesHeader."Document Type");
      SalesLine.SETRANGE("Document No.",SalesHeader."No.");
      IF SalesLine.FINDSET THEN
        REPEAT
          IF SalesLine.AsmToOrderExists(AsmHeader) THEN
            CODEUNIT.RUN(CODEUNIT::"Release Assembly Document",AsmHeader);
        UNTIL SalesLine.NEXT = 0;
    END;

    LOCAL PROCEDURE ReopenATOs@6(SalesHeader@1000 : Record 36);
    VAR
      SalesLine@1001 : Record 37;
      AsmHeader@1002 : Record 900;
      ReleaseAssemblyDocument@1003 : Codeunit 903;
    BEGIN
      SalesLine.SETRANGE("Document Type",SalesHeader."Document Type");
      SalesLine.SETRANGE("Document No.",SalesHeader."No.");
      IF SalesLine.FINDSET THEN
        REPEAT
          IF SalesLine.AsmToOrderExists(AsmHeader) THEN
            ReleaseAssemblyDocument.Reopen(AsmHeader);
        UNTIL SalesLine.NEXT = 0;
    END;

    [External]
    PROCEDURE ReleaseSalesHeader@11(VAR SalesHdr@1000 : Record 36;Preview@1001 : Boolean) LinesWereModified : Boolean;
    BEGIN
      PreviewMode := Preview;
      SalesHeader.COPY(SalesHdr);
      LinesWereModified := Code;
      SalesHdr := SalesHeader;
    END;

    PROCEDURE SetSkipCheckReleaseRestrictions@21();
    BEGIN
      SkipCheckReleaseRestrictions := TRUE;
    END;

    PROCEDURE CalcAndUpdateVATOnLines@14(VAR SalesHeader@1003 : Record 36;VAR SalesLine@1002 : Record 37) LinesWereModified : Boolean;
    VAR
      TempVATAmountLine0@1001 : TEMPORARY Record 290;
      TempVATAmountLine1@1000 : TEMPORARY Record 290;
    BEGIN
      SalesLine.SetSalesHeader(SalesHeader);
      SalesLine.CalcVATAmountLines(0,SalesHeader,SalesLine,TempVATAmountLine0);
      SalesLine.CalcVATAmountLines(1,SalesHeader,SalesLine,TempVATAmountLine1);
      LinesWereModified :=
        SalesLine.UpdateVATOnLines(0,SalesHeader,SalesLine,TempVATAmountLine0) OR
        SalesLine.UpdateVATOnLines(1,SalesHeader,SalesLine,TempVATAmountLine1);
    END;

    [Integration]
    [External]
    LOCAL PROCEDURE OnBeforeReleaseSalesDoc@7(VAR SalesHeader@1000 : Record 36;PreviewMode@1001 : Boolean);
    BEGIN
    END;

    [Integration]
    [External]
    LOCAL PROCEDURE OnAfterReleaseSalesDoc@4(VAR SalesHeader@1000 : Record 36;PreviewMode@1001 : Boolean;LinesWereModified@1002 : Boolean);
    BEGIN
    END;

    [Integration]
    [External]
    LOCAL PROCEDURE OnBeforeReopenSalesDoc@8(VAR SalesHeader@1000 : Record 36);
    BEGIN
    END;

    [Integration]
    [External]
    LOCAL PROCEDURE OnAfterReopenSalesDoc@9(VAR SalesHeader@1000 : Record 36);
    BEGIN
    END;

    [Integration]
    [External]
    LOCAL PROCEDURE OnAfterReleaseATOs@12(VAR SalesHeader@1000 : Record 36;VAR SalesLine@1001 : Record 37);
    BEGIN
    END;

    PROCEDURE CheckAllowRelease@1000000000();
    VAR
      USERSETUP@1000000001 : Record 91;
    BEGIN
      IF USERSETUP.GET(USERID) THEN BEGIN
        IF NOT USERSETUP."Allow Release Sales Document" THEN
          ERROR(Text006);
      END;
    END;

    BEGIN
    {
      //MA002 15/04/2020 Marcus Ambra - Added new field Release on Archive
    }
    END.
  }
}

OBJECT Page 459 Sales & Receivables Setup
{
  OBJECT-PROPERTIES
  {
    Date=15/04/20;
    Time=17:08:48;
    Modified=Yes;
    Version List=NAVW111.00.00.23019,NAVGB11.00.00.23019,MA002;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Sales & Receivables Setup;
               ENG=Sales & Receivables Setup];
    InsertAllowed=No;
    DeleteAllowed=No;
    SourceTable=Table311;
    PageType=Card;
    PromotedActionCategoriesML=[ENU=New,Process,Report,Customer Groups,Payments;
                                ENG=New,Process,Report,Customer Groups,Payments];
    OnOpenPage=BEGIN
                 RESET;
                 IF NOT GET THEN BEGIN
                   INIT;
                   INSERT;
                 END;
               END;

    ActionList=ACTIONS
    {
      { 47      ;    ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 45      ;1   ;Action    ;
                      CaptionML=[ENU=Customer Posting Groups;
                                 ENG=Customer Posting Groups];
                      ToolTipML=[ENU=Set up the posting groups to select from when you set up customer cards to link business transactions made for the customer with the appropriate account in the general ledger.;
                                 ENG=Set up the posting groups to select from when you set up customer cards to link business transactions made for the customer with the appropriate account in the general ledger.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 110;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=CustomerGroup;
                      PromotedCategory=Category4 }
      { 43      ;1   ;Action    ;
                      CaptionML=[ENU=Customer Price Groups;
                                 ENG=Customer Price Groups];
                      ToolTipML=[ENU=Set up the posting groups to select from when you set up customer cards to link business transactions made for the customer with the appropriate account in the general ledger.;
                                 ENG=Set up the posting groups to select from when you set up customer cards to link business transactions made for the customer with the appropriate account in the general ledger.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 7;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Price;
                      PromotedCategory=Category4 }
      { 54      ;1   ;Action    ;
                      CaptionML=[ENU=Customer Disc. Groups;
                                 ENG=Customer Disc. Groups];
                      ToolTipML=[ENU=Set up discount group codes that you can use as criteria when you define special discounts on a customer, vendor, or item card.;
                                 ENG=Set up discount group codes that you can use as criteria when you define special discounts on a customer, vendor, or item card.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 512;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Discount;
                      PromotedCategory=Category4 }
      { 53      ;1   ;ActionGroup;
                      CaptionML=[ENU=Payment;
                                 ENG=Payment] }
      { 35      ;2   ;Action    ;
                      CaptionML=[ENU=Payment Registration Setup;
                                 ENG=Payment Registration Setup];
                      ToolTipML=[ENU=Set up the payment journal template and the balancing account that is used to post received customer payments. Define how you prefer to process customer payments in the Payment Registration window.;
                                 ENG=Set up the payment journal template and the balancing account that is used to post received customer payments. Define how you prefer to process customer payments in the Payment Registration window.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 982;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=PaymentJournal;
                      PromotedCategory=Category5 }
      { 51      ;2   ;Action    ;
                      CaptionML=[ENU=Payment Methods;
                                 ENG=Payment Methods];
                      ToolTipML=[ENU=Set up the payment methods that you select from the customer card to define how the customer must pay, for example by bank transfer.;
                                 ENG=Set up the payment methods that you select from the customer card to define how the customer must pay, for example by bank transfer.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 427;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Payment;
                      PromotedCategory=Category5 }
      { 33      ;2   ;Action    ;
                      CaptionML=[ENU=Payment Terms;
                                 ENG=Payment Terms];
                      ToolTipML=[ENU=Set up the payment terms that you select from on customer cards to define when the customer must pay, such as within 14 days.;
                                 ENG=Set up the payment terms that you select from on customer cards to define when the customer must pay, such as within 14 days.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 4;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Payment;
                      PromotedCategory=Category5 }
      { 31      ;2   ;Action    ;
                      CaptionML=[ENU=Finance Charge Terms;
                                 ENG=Finance Charge Terms];
                      ToolTipML=[ENU=Set up the finance charge terms that you select from on customer cards to define how to calculate interest in case the customer's payment is late.;
                                 ENG=Set up the finance charge terms that you select from on customer cards to define how to calculate interest in case the customer's payment is late.];
                      ApplicationArea=#Advanced;
                      RunObject=Page 6;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=FinChargeMemo;
                      PromotedCategory=Category5 }
      { 29      ;2   ;Action    ;
                      CaptionML=[ENU=Reminder Terms;
                                 ENG=Reminder Terms];
                      ToolTipML=[ENU=Set up reminder terms that you select from on customer cards to define when and how to remind the customer of late payments.;
                                 ENG=Set up reminder terms that you select from on customer cards to define when and how to remind the customer of late payments.];
                      ApplicationArea=#Advanced;
                      RunObject=Page 431;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=ReminderTerms;
                      PromotedCategory=Category5 }
      { 27      ;2   ;Action    ;
                      CaptionML=[ENU=Rounding Methods;
                                 ENG=Rounding Methods];
                      ToolTipML=[ENU=Define how amounts are rounded when you use functions to adjust or suggest item prices or standard costs.;
                                 ENG=Define how amounts are rounded when you use functions to adjust or suggest item prices or standard costs.];
                      ApplicationArea=#Advanced;
                      RunObject=Page 65;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Calculate;
                      PromotedCategory=Category5 }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                CaptionML=[ENU=General;
                           ENG=General] }

    { 18  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of sales discounts to post separately. No Discounts: Discounts are not posted separately but instead will subtract the discount before posting. Invoice Discounts: The invoice discount and invoice amount are posted simultaneously, based on the Sales Inv. Disc. Account field in the General Posting Setup window. Line Discounts: The line discount and the invoice amount will be posted simultaneously, based on Sales Line Disc. Account field in the General Posting Setup window. All Discounts: The invoice and line discounts and the invoice amount will be posted simultaneously, based on the Sales Inv. Disc. Account field and Sales Line. Disc. Account fields in the General Posting Setup window.;
                           ENG=Specifies the type of sales discounts to post separately. No Discounts: Discounts are not posted separately but instead will subtract the discount before posting. Invoice Discounts: The invoice discount and invoice amount are posted simultaneously, based on the Sales Inv. Disc. Account field in the General Posting Setup window. Line Discounts: The line discount and the invoice amount will be posted simultaneously, based on Sales Line Disc. Account field in the General Posting Setup window. All Discounts: The invoice and line discounts and the invoice amount will be posted simultaneously, based on the Sales Inv. Disc. Account field and Sales Line. Disc. Account fields in the General Posting Setup window.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Discount Posting" }

    { 3   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether to warn about the customer's status when you create a sales order or invoice.;
                           ENG=Specifies whether to warn about the customer's status when you create a sales order or invoice.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Credit Warnings" }

    { 20  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if a warning is displayed when you enter a quantity on a sales document that brings the item's inventory level below zero.;
                           ENG=Specifies if a warning is displayed when you enter a quantity on a sales document that brings the item's inventory level below zero.];
                ApplicationArea=#Advanced;
                SourceExpr="Stockout Warning" }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that a posted shipment and a posted invoice are automatically created when you post an invoice.;
                           ENG=Specifies that a posted shipment and a posted invoice are automatically created when you post an invoice.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Shipment on Invoice";
                Importance=Additional }

    { 57  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that a posted return receipt and a posted sales credit memo are automatically created when you post a credit memo.;
                           ENG=Specifies that a posted return receipt and a posted sales credit memo are automatically created when you post a credit memo.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Return Receipt on Credit Memo";
                Importance=Additional }

    { 8   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that amounts are rounded for sales invoices.;
                           ENG=Specifies that amounts are rounded for sales invoices.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Invoice Rounding" }

    { 666 ;2   ;Field     ;
                Name=DefaultItemQuantity;
                CaptionML=[ENU=Default Item Quantity;
                           ENG=Default Item Quantity];
                ToolTipML=[ENU=Specifies that the Quantity field is set to 1 when you fill the Item No. field.;
                           ENG=Specifies that the Quantity field is set to 1 when you fill the Item No. field.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Default Item Quantity" }

    { 41  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether the system will suggest to create a new item when no item matches the description. NOTE: With this setting, you cannot add a non-transactional text line by filling in the Description field only.;
                           ENG=Specifies whether the system will suggest to create a new item when no item matches the description. NOTE: With this setting, you cannot add a non-transactional text line by filling in the Description field only.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Create Item from Description" }

    { 9   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether it is mandatory to enter an external document number in the External Document No. field on a sales header or the External Document No. field on a general journal line.;
                           ENG=Specifies whether it is mandatory to enter an external document number in the External Document No. field on a sales header or the External Document No. field on a general journal line.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ext. Doc. No. Mandatory";
                Importance=Additional }

    { 44  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether it is allowed to apply customer payments in different currencies.;
                           ENG=Specifies whether it is allowed to apply customer payments in different currencies.];
                ApplicationArea=#Suite;
                SourceExpr="Appln. between Currencies" }

    { 65  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the position of your company logo on business letters and documents.;
                           ENG=Specifies the position of your company logo on business letters and documents.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Logo Position on Documents" }

    { 39  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general ledger account that must be used for freight charges.;
                           ENG=Specifies the general ledger account that must be used for freight charges.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Freight G/L Acc. No." }

    { 77  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how to use the Posting Date field on sales documents.;
                           ENG=Specifies how to use the Posting Date field on sales documents.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Default Posting Date" }

    { 79  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the default value that is inserted in the Qty. to Ship field on sales order lines and in the Return Qty. to Receive field on sales return order lines.;
                           ENG=Specifies the default value that is inserted in the Qty. to Ship field on sales order lines and in the Return Qty. to Receive field on sales return order lines.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Default Quantity to Ship";
                Importance=Additional }

    { 36  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether to copy comments from blanket orders to sales orders.;
                           ENG=Specifies whether to copy comments from blanket orders to sales orders.];
                ApplicationArea=#Advanced;
                SourceExpr="Copy Comments Blanket to Order";
                Importance=Additional }

    { 40  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether to copy comments from sales orders to sales invoices.;
                           ENG=Specifies whether to copy comments from sales orders to sales invoices.];
                ApplicationArea=#Advanced;
                SourceExpr="Copy Comments Order to Invoice";
                Importance=Additional }

    { 42  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether to copy comments from sales orders to shipments.;
                           ENG=Specifies whether to copy comments from sales orders to shipments.];
                ApplicationArea=#Advanced;
                SourceExpr="Copy Comments Order to Shpt.";
                Importance=Additional }

    { 61  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether to copy comments from sales return orders to sales credit memos.;
                           ENG=Specifies whether to copy comments from sales return orders to sales credit memos.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Copy Cmts Ret.Ord. to Cr. Memo";
                Importance=Additional }

    { 48  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that comments are copied from the sales credit memo to the posted return receipt.;
                           ENG=Specifies that comments are copied from the sales credit memo to the posted return receipt.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Copy Cmts Ret.Ord. to Ret.Rcpt";
                Importance=Additional }

    { 46  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether to allow the manual adjustment of VAT amounts in sales documents.;
                           ENG=Specifies whether to allow the manual adjustment of VAT amounts in sales documents.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Allow VAT Difference" }

    { 22  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether the invoice discount amount is automatically calculated with sales documents.;
                           ENG=Specifies whether the invoice discount amount is automatically calculated with sales documents.];
                ApplicationArea=#Advanced;
                SourceExpr="Calc. Inv. Discount" }

    { 52  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that the invoice discount is calculated according to VAT Identifier.;
                           ENG=Specifies that the invoice discount is calculated according to VAT Identifier.];
                ApplicationArea=#Advanced;
                SourceExpr="Calc. Inv. Disc. per VAT ID";
                Visible=FALSE }

    { 21  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a VAT business posting group for customers for whom you want the item price including VAT, to apply.;
                           ENG=Specifies a VAT business posting group for customers for whom you want the item price including VAT, to apply.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="VAT Bus. Posting Gr. (Price)" }

    { 59  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that a return transaction cannot be posted unless the Appl.-from Item Entry field on the sales order line Specifies an entry.;
                           ENG=Specifies that a return transaction cannot be posted unless the Appl.-from Item Entry field on the sales order line Specifies an entry.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Exact Cost Reversing Mandatory";
                Importance=Additional }

    { 71  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that you cannot ship or invoice an order that has an unpaid prepayment amount.;
                           ENG=Specifies that you cannot ship or invoice an order that has an unpaid prepayment amount.];
                ApplicationArea=#Prepayments;
                SourceExpr="Check Prepmt. when Posting";
                Importance=Additional }

    { 1040000;2;Field     ;
                ToolTipML=[ENU=Specifies if you want the program to warn you when you post a sales document with a posting date that is different from the Work Date.;
                           ENG=Specifies if you want the program to warn you when you post a sales document with a posting date that is different from the Work Date.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Posting Date Check on Posting" }

    { 81  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether to automatically archive sales quotes and sales orders when a sales quote/order is deleted.;
                           ENG=Specifies whether to automatically archive sales quotes and sales orders when a sales quote/order is deleted.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Archive Quotes and Orders";
                Importance=Additional }

    { 1000000000;2;Field  ;
                ToolTipML=ENU=Specifies whether to automatically archive sales quotes and sales orders when a sales quote/order is released.;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Archive on Release" }

    { 37  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if and when posted sales documents can be deleted. If you enter a date, posted sales documents with a posting date on or after this date cannot be deleted.;
                           ENG=Specifies if and when posted sales documents can be deleted. If you enter a date, posted sales documents with a posting date on or after this date cannot be deleted.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Allow Document Deletion Before";
                Importance=Additional }

    { 60  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if changes to addresses made on sales documents are copied to the customer card. By default, changes are copied to the customer card.;
                           ENG=Specifies if changes to addresses made on sales documents are copied to the customer card. By default, changes are copied to the customer card.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ignore Updated Addresses" }

    { 1900309501;1;Group  ;
                CaptionML=[ENU=Dimensions;
                           ENG=Dimensions] }

    { 63  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the dimension code for customer groups in your analysis report.;
                           ENG=Specifies the dimension code for customer groups in your analysis report.];
                ApplicationArea=#Dimensions;
                SourceExpr="Customer Group Dimension Code" }

    { 14  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the dimension code for salespeople in your analysis report;
                           ENG=Specifies the dimension code for salespeople in your analysis report];
                ApplicationArea=#Dimensions;
                SourceExpr="Salesperson Dimension Code" }

    { 1904569201;1;Group  ;
                CaptionML=[ENU=Number Series;
                           ENG=Number Series];
                GroupType=Group }

    { 85  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to customers.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to customers.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Customer Nos." }

    { 24  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to sales quotes.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to sales quotes.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Quote Nos." }

    { 38  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to blanket sales orders.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to blanket sales orders.];
                ApplicationArea=#Advanced;
                SourceExpr="Blanket Order Nos." }

    { 26  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to sales orders.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to sales orders.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Order Nos." }

    { 55  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number series that is used to assign numbers to new sales return orders.;
                           ENG=Specifies the number series that is used to assign numbers to new sales return orders.];
                ApplicationArea=#SalesReturnOrder;
                SourceExpr="Return Order Nos." }

    { 75  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to sales invoices.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to sales invoices.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Invoice Nos." }

    { 30  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to sales invoices when they are posted.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to sales invoices when they are posted.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Posted Invoice Nos." }

    { 74  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to sales credit memos.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to sales credit memos.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Credit Memo Nos." }

    { 32  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to sales credit memos when they are posted.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to sales credit memos when they are posted.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Posted Credit Memo Nos." }

    { 28  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to shipments.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to shipments.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Posted Shipment Nos." }

    { 50  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to posted return receipts.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to posted return receipts.];
                ApplicationArea=#SalesReturnOrder;
                SourceExpr="Posted Return Receipt Nos." }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to reminders.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to reminders.];
                ApplicationArea=#Advanced;
                SourceExpr="Reminder Nos." }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to reminders when they are issued.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to reminders when they are issued.];
                ApplicationArea=#Advanced;
                SourceExpr="Issued Reminder Nos." }

    { 34  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to finance charge memos.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to finance charge memos.];
                ApplicationArea=#Advanced;
                SourceExpr="Fin. Chrg. Memo Nos." }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to finance charge memos when they are issued.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to finance charge memos when they are issued.];
                ApplicationArea=#Advanced;
                SourceExpr="Issued Fin. Chrg. M. Nos." }

    { 69  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign numbers to sales prepayment invoices.;
                           ENG=Specifies the code for the number series that will be used to assign numbers to sales prepayment invoices.];
                ApplicationArea=#Prepayments;
                SourceExpr="Posted Prepmt. Inv. Nos." }

    { 67  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that is used to assign numbers to sales prepayment credit memos when they are posted.;
                           ENG=Specifies the code for the number series that is used to assign numbers to sales prepayment credit memos when they are posted.];
                ApplicationArea=#Prepayments;
                SourceExpr="Posted Prepmt. Cr. Memo Nos." }

    { 25  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number series for direct-debit mandates.;
                           ENG=Specifies the number series for direct-debit mandates.];
                ApplicationArea=#Advanced;
                SourceExpr="Direct Debit Mandate Nos." }

    { 2   ;1   ;Group     ;
                CaptionML=[ENU=Background Posting;
                           ENG=Background Posting];
                GroupType=Group }

    { 23  ;2   ;Group     ;
                CaptionML=[ENU=Post;
                           ENG=Post];
                GroupType=Group }

    { 19  ;3   ;Field     ;
                ToolTipML=[ENU=Specifies if your business process uses job queues in the background to post sales and purchase documents, including orders, invoices, return orders, and credit memos.;
                           ENG=Specifies if your business process uses job queues in the background to post sales and purchase documents, including orders, invoices, return orders, and credit memos.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Post with Job Queue" }

    { 17  ;3   ;Field     ;
                ToolTipML=[ENU=Specifies the priority of the job queue when you run it in the context of background posting. You can set different priorities for the post and post and print settings. The default setting is 1000.;
                           ENG=Specifies the priority of the job queue when you run it in the context of background posting. You can set different priorities for the post and post and print settings. The default setting is 1000.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Job Queue Priority for Post" }

    { 13  ;2   ;Group     ;
                CaptionML=[ENU=Post & Print;
                           ENG=Post & Print];
                GroupType=Group }

    { 15  ;3   ;Field     ;
                ToolTipML=[ENU=Specifies if your business process uses job queues to post and print sales documents.;
                           ENG=Specifies if your business process uses job queues to post and print sales documents.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Post & Print with Job Queue" }

    { 11  ;3   ;Field     ;
                ToolTipML=[ENU=Specifies the priority of the job queue when you run it in the context of background posting. You can set different priorities for the post and post and print settings. The default setting is 1000.;
                           ENG=Specifies the priority of the job queue when you run it in the context of background posting. You can set different priorities for the post and post and print settings. The default setting is 1000.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Job Q. Prio. for Post & Print" }

    { 7   ;2   ;Group     ;
                CaptionML=[ENU=General;
                           ENG=General];
                GroupType=Group }

    { 5   ;3   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the category of the job queue that you want to associate with background posting.;
                           ENG=Specifies the code for the category of the job queue that you want to associate with background posting.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Job Queue Category Code" }

    { 4   ;3   ;Field     ;
                ToolTipML=[ENU=Specifies if a notification is sent when posting and printing is successfully completed.;
                           ENG=Specifies if a notification is sent when posting and printing is successfully completed.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Notify On Success" }

    { 1904993701;1;Group  ;
                CaptionML=[ENU=Reverse Charge;
                           ENG=Reverse Charge] }

    { 10410090;2;Field    ;
                ToolTipML=[ENU=Specifies the VAT Business Posting Group code for reverse charge VAT.;
                           ENG=Specifies the VAT Business Posting Group code for reverse charge VAT.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Reverse Charge VAT Posting Gr." }

    { 10410092;2;Field    ;
                ToolTipML=[ENU=Specifies the VAT Business Posting Group code for domestic UK customers.;
                           ENG=Specifies the VAT Business Posting Group code for domestic UK customers.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Domestic Customers" }

    { 10410094;2;Field    ;
                ToolTipML=[ENU=Specifies the text that is printed on the invoice indicating that the invoice is a reverse charge transaction.;
                           ENG=Specifies the text that is printed on the invoice indicating that the invoice is a reverse charge transaction.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Invoice Wording" }

    { 49  ;1   ;Group     ;
                CaptionML=[ENU=Dynamics 365 for Sales;
                           ENG=Dynamics 365 for Sales];
                GroupType=Group }

    { 58  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the sales line type that will be used for write-in products in Dynamics 365 for Sales.;
                           ENG=Specifies the sales line type that will be used for write-in products in Dynamics 365 for Sales.];
                ApplicationArea=#Suite;
                SourceExpr="Write-in Product Type" }

    { 56  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the item or resource depending on the write-in product type that will be used for Dynamics 365 for Sales.;
                           ENG=Specifies the number of the item or resource depending on the write-in product type that will be used for Dynamics 365 for Sales.];
                ApplicationArea=#Suite;
                SourceExpr="Write-in Product No." }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 1900383207;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {

    BEGIN
    {
      //MA002 15/04/2020 Marcus Ambra - Added new field Release on Archive
    }
    END.
  }
}

